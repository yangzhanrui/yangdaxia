     response.reset(); 
        response.setContentType("image/*"); 
        try { 
            URL u = new URL(ftpPath); 
            String _file = u.getFile(); 
            InputStream in = u.openStream(); 
            byte[] bytearray = new byte[1024]; 
            int len=0; 
            while((len=in.read(bytearray))!=-1){ 
                response.getOutputStream().write(bytearray); 
            } 
            response.getOutputStream().flush();//必须清除流，否则图片不能正常显示 
            u=null; 
            in.close的();  
        } catch (Exception e) { 
            e.printStackTrace(); 
        } 



url="getftppic.do?method=getFtpPic&ftppath="+ftppath;  
document.getElementsByName("img")[0].src=url;  

img src=""  可以是controller的路径，直接response.getOutputStream().write
src后面就是指向二进制流

增加永裕字段一定要保存id,for则列表之后无法点击进行查看